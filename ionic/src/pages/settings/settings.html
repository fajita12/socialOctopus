<!--
  Generated template for the SettingsPage page.
  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title><ion-icon name="cog"></ion-icon> Settings</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding (swipeRight) ="swipeRightEvent($event)" >

  <p *ngIf="!submitAttempt" style="color: #ea6153;">Please fill out the form.</p>

  <form id="settingsForm" [formGroup]="settingsForm">

    <ion-item>
      <ion-label>Name:</ion-label>
      <ion-input type="text" formControlName="name" [class.invalid]="!settingsForm?.controls.name.valid && (settingsForm?.controls.name.dirty || submitAttempt)"></ion-input>
    </ion-item>

    <ion-item *ngIf="!settingsForm?.controls.name.valid  && (settingsForm?.controls.name.dirty || submitAttempt)">
      <p>Please enter a valid name.</p>
    </ion-item>

    <ion-item>
      <ion-label>Profile Picture:</ion-label>
      <ion-input type="url" formControlName="propic"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label>Quotes:</ion-label>
      <ion-input type="text" formControlName="quotes" [class.invalid]="!settingsForm?.controls.quotes.valid && (settingsForm?.controls.quotes.dirty || submitAttempt)"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label>
        Accounts
      </ion-label>
    </ion-item>

<!--
    <ion-item>
      <ion-checkbox [(ngModel)]="settings.visibility" name="visibility"></ion-checkbox>

      <ion-select [(ngModel)]="settings.type" name="type" placeholder="Type">
        <ion-option value="twitter">Twitter</ion-option>
      </ion-select>

    </ion-item>
  -->

  <ion-item>
      <ion-checkbox name="visibility" formControlName="visibility"></ion-checkbox>
<!--
      <ion-select name="type" placeholder="Type" formControlName="type">
        <ion-option value="twitter">Twitter</ion-option>
        <ion-option value="Tumblr">Tumblr</ion-option>
      </ion-select>
-->
  </ion-item>

    <ion-list>

      <ion-item>
      <ion-label>Twitter</ion-label>
      <ion-checkbox disabled="false" formControlName="type" (ionChange)="selectTwitter()"></ion-checkbox>
      </ion-item>
<!--
      <ion-item>
      <ion-label>Tumblr</ion-label>
      <ion-checkbox disabled="false" formControlName="tumblr_sel" (ionChange)="selectTumblr()"></ion-checkbox>
      </ion-item>
-->
  </ion-list>

    <ion-item>
      <ion-label>Username:</ion-label>
      <ion-input type="text" formControlName="username" [class.invalid]="!settingsForm?.controls.username.valid && (settingsForm?.controls.username.dirty || submitAttempt)"></ion-input>
    </ion-item>

    <ion-item *ngIf="settingsForm?.controls.username.pending">
                <p>Checking username...</p>
    </ion-item>

    <ion-item *ngIf="!settingsForm?.controls.username.valid && !settingsForm?.controls.username.pending && (settingsForm?.controls.username.dirty || submitAttempt)">
      <p>Sorry, that username can not be used!</p>
    </ion-item>

   <ion-item>
      <ion-label>Password:</ion-label>
      <ion-input type="password" formControlName="password" [class.invalid]="!settingsForm?.controls.password.valid && (settingsForm?.controls.password.dirty || submitAttempt)"></ion-input>
    </ion-item>

    <ion-item *ngIf="!settingsForm?.controls.password.valid && (settingsForm?.controls.password.dirty || submitAttempt)">
      <p>Sorry, that password can not be used!</p>
    </ion-item>

  </form>

  <button ion-button type="" color="secondary" block on-click="updateSettings()">
    <ion-icon name="checkbox"></ion-icon>
    Save
  </button>

</ion-content>
